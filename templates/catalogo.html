<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cátalogo - Disco Mágico</title>
    <!-- Links do CSS -->
    <link rel="stylesheet" href="{{url_for('static', filename='css/global.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/paginas/pagCatalogo.css')}}">
    <link rel="stylesheet" href="/static/css/componentes.css">

    <!-- Links do Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">

    <!-- Links do Font Awesome -->
    <script src="https://kit.fontawesome.com/121b8fc5c0.js" crossorigin="anonymous" defer></script>

</head>
<body>
    <section class="aside__container">

    </section>
    
    <header class="header__container">

    </header>

    <!-- Filtros -->
    <div class="nav-bar" style="margin-top: 80px;">
        <button class="menu-toggle" aria-label="Abrir menu"><i class="fa-solid fa-filter" style="color: #42a18c;"></i></button>
        <nav id="menu" class="menu">
            {% if categoria_atual != "todas" %}
            <button class="header__search-category-btn"><a href="/catalogo">Todas</a></button>
            {% endif %}            
            {% for categoria in categorias%}
            <button class="header__search-category-btn"><a href="/filmes/exibir/{{categoria.id_categoria}}">{{categoria.categoria}}</a></button>
            {% endfor %}
        </nav>
    </div>

    <!-- Catalogo com todos os filmes -->
    <main class="catalogo">
        {% for filme in filmes %}
        <div class="catalogo__filmes">
            <figure>
                <img src="{{filme.img_1}}" alt="" class="catalogo__filmes-img " data-index="1">
                <img src="{{filme.img_1}}" alt="" class="catalogo__filmes-img active" data-index="2">
                <caption>
                    <div class="catalogo__filmes-acoes">
                        <div class="filme-infos">
                            <p class="filme-titulo">{{filme.nome_filme}}</p>
                        </div>
                        <div class="filme-ver-mais">
                            <p>Preço: R${{filme.preco}}</p>
                            <button class="catalogo__filmes-btn"><a href="/filme/{{filme.id_filme}}">Ver mais</a></button>
                        </div>
                    </div>
                    
                </caption>
                
            </figure>
        </div>
        {% endfor %}
    </main>
    <footer class="footer__container">

    </footer>

    
    <script src="https://kit.fontawesome.com/2fcc2a2373.js" crossorigin="anonymous"></script>

    <!-- Carregando header e footer -->
    <script src="/static/js/loaders/aside-loader.js"></script>
    <script src="/static/js/loaders/header-loader.js"></script>
    <script src="/static/js/loaders/footer-loader.js"></script>
    
</body>

<script id="aside__funcionalidades"></script>

<script>
    const menu_toggle = document.querySelector('.menu-toggle');
    const menu = document.querySelector('#menu');
    menu_toggle.addEventListener('click', ()=>{
        menu.classList.toggle('show');
    })
</script>
</html>